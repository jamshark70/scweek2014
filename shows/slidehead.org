#+BIND: org-latex-listings-options (("basicstyle" "\\ttfamily\\scriptsize") ("captionpos" "b") ("tabsize" "3"))
# #+BIND: org-latex-listings-options (("language" "[LaTeX]Tex") ("keywordstyle" "\color{myblue}") ("basicstyle" "\ttfamily") ("commentstyle" "\color{commentred}") ("stringstyle" "\color{symbolgreen}"))
#+bind: org-beamer-outline-frame-title "Outline"

#+LANGUAGE:  en
#+OPTIONS:   H:3 num:t toc:t \n:nil @:t ::t |:t ^:t -:t f:t *:t <:t
#+OPTIONS:   TeX:t LaTeX:t skip:nil d:nil todo:nil pri:nil tags:not-in-toc
#+EXPORT_SELECT_TAGS: export
#+EXPORT_EXCLUDE_TAGS: noexport

#+startup: beamer
#+LaTeX_CLASS: beamer
#+LaTeX_CLASS_OPTIONS: [ignorenonframetext,presentation]
# #+LaTeX_CLASS_OPTIONS: [presentation]
#+BEAMER_THEME: default
#+COLUMNS: %45ITEM %10BEAMER_env(Env) %10BEAMER_act(Act) %4BEAMER_col(Col) %8BEAMER_opt(Opt)
#+PROPERTY: BEAMER_col_ALL 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 0.0 :ETC

#+LATEX_HEADER: \setcounter{tocdepth}{1}

#+LATEX_HEADER: \usepackage{fontspec}
# #+LATEX_HEADER: \setmainfont[Ligatures={Common,TeX}]{Calibri}
#+LATEX_HEADER: \setmonofont{Inconsolata}

#+LATEX_HEADER: \usepackage[indentfirst=false]{xeCJK}
#+LATEX_HEADER: \setCJKmainfont{WenQuanYi Zen Hei}
#+LATEX_HEADER: \setCJKsansfont{WenQuanYi Zen Hei}
#+LATEX_HEADER: \setCJKmonofont{WenQuanYi Zen Hei}

#+LATEX_HEADER: \usepackage{caption}
# #+LATEX_HEADER: \captionsetup[lstlisting]{font={it,scriptsize},labelfont={it,scriptsize},singlelinecheck=false}
#+LATEX_HEADER: \captionsetup{font={it,scriptsize},labelfont={it,scriptsize},singlelinecheck=false}

#+LATEX_HEADER: \usepackage{color}
#+LATEX_HEADER: \definecolor{codecolor}{RGB}{0,125,25}
#+LATEX_HEADER: \definecolor{keycolor}{RGB}{25,94,0}
#+LATEX_HEADER: \newcommand{\cd}[1]{\textcolor{codecolor}{\texttt{#1}}}
#+LATEX_HEADER: \newcommand{\ci}[1]{\mbox{\textcolor{codecolor}{\texttt{#1}}}}
#+LATEX_HEADER: \newcommand{\ks}[1]{\textcolor{keycolor}{\framebox[1.05\width]{\texttt{#1}}}}
#+LATEX_HEADER: \newcommand{\te}[1]{\emph{#1}}

# #+LATEX_HEADER: \usepackage{supercollider}
#+LATEX_HEADER: \usepackage{listings}

# from Jubobs
# http://tex.stackexchange.com/questions/159245/how-can-i-automatically-highlight-supercollider-symbols-and-global-variables/166159#166159
#+LATEX_HEADER: % color definition
#+LATEX_HEADER: \definecolor{SCclasscolor}{RGB}{51, 0, 211}
#+LATEX_HEADER: \definecolor{SCsymbolcolor}{RGB}{0, 115, 0}
#+LATEX_HEADER: \definecolor{SCenvVarColor}{RGB}{255, 102, 0}
#+LATEX_HEADER: \definecolor{SCcommentcolor}{RGB}{191, 0, 0}
#+LATEX_HEADER: \definecolor{SCstringcolor}{RGB}{95, 95, 95}
# #+LATEX_HEADER: \colorlet{framerulecolor}{black}
#+LATEX_HEADER: 
#+LATEX_HEADER: % style definition
#+LATEX_HEADER: \lstdefinestyle{SupColSty}
#+LATEX_HEADER: {%
#+LATEX_HEADER:   language         = SuperCollider,
#+LATEX_HEADER:   basicstyle       = \ttfamily\footnotesize,
#+LATEX_HEADER:   stringstyle      = \color{SCstringcolor},
#+LATEX_HEADER:   commentstyle     = \color{SCcommentcolor}\itshape,
#+LATEX_HEADER:   classstyle       = \color{SCclasscolor}\bfseries,
#+LATEX_HEADER:   symbolstyle      = \color{SCsymbolcolor},
#+LATEX_HEADER:   globalvarstyle   = \color{SCenvVarColor},
#+LATEX_HEADER:   breaklines       = true,
#+LATEX_HEADER:   showstringspaces = false,
# #+LATEX_HEADER:   frame            = single,
# #+LATEX_HEADER:   rulecolor        = \color{framerulecolor},
#+LATEX_HEADER: }

#+BEGIN_COMMENT
# Modified from Miguel Negrao
# http://article.gmane.org/gmane.comp.audio.supercollider.user/105371
#+LATEX_HEADER: \definecolor{myblue}{RGB}{51, 0, 211}
#+LATEX_HEADER: \definecolor{commentred}{RGB}{191, 0, 0}
#+LATEX_HEADER: \definecolor{symbolgreen}{RGB}{0, 115, 0}
#+LATEX_HEADER: \definecolor{stringgrey}{RGB}{95, 95, 95}
#+LATEX_HEADER: \lstset{language=[LaTeX]Tex,%C++,
#+LATEX_HEADER:     keywordstyle=\color{myblue},
#+LATEX_HEADER:     basicstyle=\ttfamily,
#+LATEX_HEADER:     %identifierstyle=\color{NavyBlue},
#+LATEX_HEADER:     commentstyle=\color{commentred},
#+LATEX_HEADER:     stringstyle=\color{stringgrey},
# #+LATEX_HEADER:     moredelim=
# #+LATEX_HEADER:     texcsstyle=\color{symbolgreen},
# #+LATEX_HEADER:     numbers=none,%left,%
# #+LATEX_HEADER:     numberstyle=\scriptsize,%\tiny
# #+LATEX_HEADER:     stepnumber=5,
# #+LATEX_HEADER:     numbersep=8pt,
#+LATEX_HEADER:     showstringspaces=false,
# #+LATEX_HEADER:     breaklines=true,
# #+LATEX_HEADER:     frameround=ftff,
# #+LATEX_HEADER: %    frame=single
# #+LATEX_HEADER:     frame=none
# #+LATEX_HEADER: %    frame=L
#+LATEX_HEADER: }
#+LATEX_HEADER: 
#+LATEX_HEADER: \lstdefinelanguage{SuperCollider}
#+LATEX_HEADER: 	{morekeywords={nil,true,false,var,classvar,this,thisProcess,thisThread,arg,thisFunction,super,currentEnvironment,Pdelta,Plot,Object,DynKlank,Formant,Phasor,NodeProxy,Saw,Note,PTimePoints,LFGauss,LFNoise2,Dust,Point,Feedback,Rect,ControlSpec,Window,Pn,NamedControl,BLowPass,Mix,QuadL,VarSaw,HPF,Pxrand,BufRateScale,Pseq,Signal,ControlDur,RLPF,LFPulse,EnvGen,Switch,AllpassL,Impulse,Pulse,SinOsc,Tdef,LinCongL,Env,Out,LFSaw,BPF,Balance2,FlowView,DelayL,Integer,IdentitySet,Task,OSCdef,TExpRand,Routine,TdefAllGui,CombL,Shaper,Event,GUI,LFTri,EZSlider,FormantTable,FreeVerb2,Set,Pdefn,LFNoise1,Slider,Buffer,Scale,WhiteNoise,Array,Osc,Pwhite,PlayBuf,LPF,OSCFunc,Synth,Line,Play,Platform,Pseries,SimpleController,LocalIn,Pshuf,SynthDef,Pbind,NetAddr,Pkey,PinkNoise,ProxySubmix,Klank,Prand,Updater,TempoClock,Color,Limiter,TGrains,Pfunc,Lag,LFNoise0,Pif,Rest,Ringz,LocalOut,UGen,Pdict,Pexprand,ProxySpace,Button,MixerChannel,Formlet,Pluck,Dictionary,Pan2},
#+LATEX_HEADER: 	sensitive=true,
#+LATEX_HEADER: 	morecomment=[l]{//},
#+LATEX_HEADER: 	morecomment=[s]{/*}{*/},
#+LATEX_HEADER: 	morestring=[b]"
#+LATEX_HEADER: 	}
#+END_COMMENT

#+LATEX_HEADER: \hyphenation{Synth-Def Synth-Defs}

#+LATEX_HEADER: \usepackage{glossaries}
#+LATEX_HEADER: \newglossary[ugi]{ugen}{ugn}{ugo}{Unit Generators}
#+LATEX_HEADER: \newglossary[cls]{class}{cla}{clo}{Classes}
#+LATEX_HEADER: \newglossary[met]{mth}{mth}{mto}{Methods}
#+LATEX_HEADER: \makeglossaries

#+LATEX_HEADER: \newcommand{\egls}[1]{\emph{\gls{#1}}}
#+LATEX_HEADER: \newcommand{\eGls}[1]{\emph{\Gls{#1}}}
#+LATEX_HEADER: \newcommand{\eglspl}[1]{\emph{\glspl{#1}}}
#+LATEX_HEADER: \newcommand{\eGlspl}[1]{\emph{\Glspl{#1}}}
#+LATEX_HEADER: \newcommand{\clss}[1]{\ci{\gls{#1}}}
#+LATEX_HEADER: \newcommand{\clsspl}[1]{\ci{\glspl{#1}}}
#+LATEX_HEADER: \newcommand{\mth}[1]{\ci{\gls{#1}}}
#+LATEX_HEADER: \newcommand{\ugen}[1]{\ci{\gls{#1}}}

#+LATEX_HEADER: \AtBeginSection[] % Do nothing for \section*
#+LATEX_HEADER: {
#+LATEX_HEADER: \begin{frame}<beamer>
#+LATEX_HEADER: \frametitle{Outline}
#+LATEX_HEADER: \tableofcontents[currentsection]
#+LATEX_HEADER: \end{frame}
#+LATEX_HEADER: }
#+LATEX_HEADER: \AtBeginSubsection[] % Do nothing for \subsection*
#+LATEX_HEADER: {
#+LATEX_HEADER: \begin{frame}<beamer>
#+LATEX_HEADER: \frametitle{\insertsection}
#+LATEX_HEADER: \begin{center}\insertsubsection\end{center}
#+LATEX_HEADER: % \tableofcontents[currentsection,currentsubsection]
#+LATEX_HEADER: \end{frame}
#+LATEX_HEADER: }
