<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="949.54">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000; min-height: 12.0px}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000}
p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #0000bf}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #606060}
p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #000000; min-height: 14.0px}
p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #000000}
p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #bf0000}
p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #0012af}
p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #9d200d}
span.s1 {color: #0000bf}
span.s2 {color: #606060}
span.s3 {color: #007300}
span.s4 {color: #000000}
span.s5 {color: #0012af}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><b>ZArchive</b></p>
<p class="p2"><br></p>
<p class="p3">superclass: File</p>
<p class="p2"><br></p>
<p class="p3">A safe binary archive format. <span class="Apple-converted-space">  </span>Supports large file sizes.</p>
<p class="p2"><br></p>
<p class="p3">Compresses strings and symbols using a string lookup table.</p>
<p class="p3"><span class="Apple-converted-space"> </span>(limit: 65536 different strings/symbols maximum)</p>
<p class="p2"><br></p>
<p class="p3">Compresses repeated values</p>
<p class="p3"><span class="Apple-converted-space"> </span>(limit: 4294967296 consecutive repeated items)</p>
<p class="p2"><br></p>
<p class="p3">The text archive written by Object.writeArchive will store an object and restore all of its internal variables.<span class="Apple-converted-space">  </span>However, it will break with large file sizes because it actually writes compilable code and there is a size limit to that.</p>
<p class="p2"><br></p>
<p class="p3">The binary archives written by Object.writeBinaryArchive will break if the instance variables change in any of the classes you have archived.</p>
<p class="p3">Binary archives loaded after the instance variables in the class has changed will corrupt the memory of SC and cause bleeding havoc.</p>
<p class="p2"><br></p>
<p class="p3"><b>This class is designed for raw data storage that you manually and explictly control.</b></p>
<p class="p2"><br></p>
<p class="p3">You manually write items to the archive and then should read from the archive in the same</p>
<p class="p3">order you wrote in.<span class="Apple-converted-space">  </span>With each item a type code is written followed by the data. <span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p3"><b>You could also use this class to write a Dictionary and then not have to worry about order.<span class="Apple-converted-space"> </span></b></p>
<p class="p3">This would also let you add or remove fields later without breaking the archives.</p>
<p class="p3"><b>This is the safest way.</b></p>
<p class="p2"><b></b><br></p>
<p class="p2"><b><span class="Apple-converted-space"> </span></b></p>
<p class="p2"><b><span class="Apple-converted-space"> </span></b></p>
<p class="p3"><b>*write(path)</b></p>
<p class="p3"><span class="Apple-converted-space"> <span class="Apple-tab-span">	</span></span>open an archive for writing</p>
<p class="p2"><span class="Apple-tab-span">	</span><span class="Apple-converted-space"> </span></p>
<p class="p3"><b>writeItem(item)</b> -</p>
<p class="p3"><span class="Apple-tab-span">	</span>this will write a character specifying the class type of the object and then will write the object</p>
<p class="p3"><span class="Apple-tab-span">	</span>in the smallest possible format.<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span>Floats, Integers, Strings, Symbols, SequenceableCollections and Dictionaries all have<span class="Apple-converted-space"> </span></p>
<p class="p3"><span class="Apple-tab-span">	</span>support to write to the archive.<span class="Apple-converted-space">  </span>eg. a Float writes a float to the file.</p>
<p class="p3"><span class="Apple-tab-span">	</span>Strings and Symbols write using a string table, so your 10000 Events with \degree in them will only</p>
<p class="p3"><span class="Apple-tab-span">	</span>need to save the word "degree" once.</p>
<p class="p3"><span class="Apple-tab-span">	</span>All other objects will be saved asCompileString.</p>
<p class="p2"><br></p>
<p class="p3"><b>writeClose</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>finish the write session and close the file.</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><b>*read(path)</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>open an archive for reading</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><b><span class="Apple-converted-space"> </span>readItem(expectedClass) -</b></p>
<p class="p3"><span class="Apple-converted-space"> <span class="Apple-tab-span">	</span></span>read an item from the file and return it</p>
<p class="p3"><span class="Apple-converted-space"> <span class="Apple-tab-span">	</span></span>expectedClass is optional.<span class="Apple-converted-space">  </span>if supplied it will type check the item that is read</p>
<p class="p3"><span class="Apple-converted-space"> <span class="Apple-tab-span">	</span></span>and throw an error if the item is of a different class.</p>
<p class="p2"><br></p>
<p class="p3"><b>&lt;&gt;version -</b></p>
<p class="p3"><span class="Apple-tab-span">	</span>Just a variable.</p>
<p class="p3"><span class="Apple-tab-span">	</span>You may set the version number so that your various objects can check the version of the archive.</p>
<p class="p3"><span class="Apple-tab-span">	</span>You need to store and retrieve the version number yourself, the ZArchive won't do it automatically.</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p2"><br></p>
<p class="p3">(</p>
<p class="p4"><br></p>
<p class="p5">a = <span class="s1">ZArchive</span>.write(<span class="s2">"archiveTest"</span>);</p>
<p class="p4"><br></p>
<p class="p5">a.writeItem(1.0.rand);</p>
<p class="p5">a.writeItem([1,2,3,4,5].choose);</p>
<p class="p5">a.writeItem(<span class="s2">"hello"</span>);</p>
<p class="p5">a.writeItem(</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="s1">Event</span>.make({</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>~a = <span class="s3">\a</span>;</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>~b = <span class="s3">\b</span>;</p>
<p class="p5"><span class="Apple-tab-span">	</span>})</p>
<p class="p5">);</p>
<p class="p5">a.writeItem([1,2,3,4,5]);</p>
<p class="p5">a.writeItem( <span class="s1">Ref</span>(4.0) );</p>
<p class="p5">a.writeItem([</p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>Event<span class="s4">[</span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 149.797), (<span class="s3">'delta'</span> -&gt; 0.453), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 0, 0.415356 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>],</p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>Event<span class="s4">[<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 150.25), (<span class="s3">'delta'</span> -&gt; 0.478), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 0, 0.37382 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>],</p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>Event<span class="s4">[<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 150.728), (<span class="s3">'delta'</span> -&gt; 0.428), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 0, 0.336438 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>]</p>
<p class="p5">]);</p>
<p class="p5">a.writeItem([</p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>IdentityDictionary<span class="s4">[</span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\a</span> -&gt; <span class="s2">"b"</span>,</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">"b"</span> -&gt; <span class="s3">\c</span></p>
<p class="p5"><span class="Apple-tab-span">	</span>]</p>
<p class="p5">]);<span class="Apple-converted-space"> </span></p>
<p class="p5">a.writeClose;</p>
<p class="p4"><br></p>
<p class="p3">)</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3">(</p>
<p class="p7">b =<span class="Apple-converted-space">  </span>ZArchive.read("archiveTest");</p>
<p class="p7">b.readItem.postln;</p>
<p class="p7">b.readItem.postln;</p>
<p class="p7">b.readItem.postln;</p>
<p class="p7">b.readItem.postln;</p>
<p class="p7">b.readItem.postln;</p>
<p class="p7">b.readItem.postln;</p>
<p class="p7">b.readItem.postln;</p>
<p class="p7">b.readItem.postln;</p>
<p class="p8"><br></p>
<p class="p8"><br></p>
<p class="p7">b.close;</p>
<p class="p8"><br></p>
<p class="p3">)</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3">(</p>
<p class="p4"><br></p>
<p class="p5">a = <span class="s1">ZArchive</span>.write(<span class="s2">"archiveTest"</span>);</p>
<p class="p4"><br></p>
<p class="p5">a.writeItem(5);</p>
<p class="p5">a.writeItem( [ <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 0), (<span class="s3">'delta'</span> -&gt; 7.68278), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'state_'</span>, <span class="s1">Environment</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'efxpath'</span> -&gt; <span class="s2">":Patches:justefx:4subtleDisturb er"</span>), (<span class="s3">'mixes'</span> -&gt; [ 0, 0.328532, 1, 0 ]), (<span class="s3">'subject'</span> -&gt; <span class="s1">Environment</span>[<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span>(</span><span class="s3">'subject'</span><span class="s4"> -&gt; </span>Environment<span class="s4">[<span class="Apple-converted-space"> </span></span></p>
<p class="p9"><span class="s4"><span class="Apple-tab-span">	</span>(</span><span class="s3">'paths'</span><span class="s4"> -&gt; [ </span>":Patches:splash:chewy"<span class="s4">, </span>":Patches:twisters:wahfunk"<span class="s4">, </span>":Patches:riddims:slowrollzghet"<span class="s4">, </span><span class="s1">nil</span><span class="s4"> ]), (</span><span class="s3">'amps'</span><span class="s4"> -&gt; [ 0.177931, 0.42807, 0.219667, 0.7 ])</span></p>
<p class="p5"><span class="Apple-tab-span">	</span>]), (<span class="s3">'filterObjects'</span> -&gt; [ <span class="s1">nil</span>, <span class="s1">nil</span>, <span class="s1">nil</span>, <span class="s1">nil</span> ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>])</p>
<p class="p5"><span class="Apple-tab-span">	</span>] ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 7.68278), (<span class="s3">'delta'</span> -&gt; 2.0898), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'selectByPath'</span>, 2, <span class="s2">":Patches:riddims:geekslut"</span> ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 9.77257), (<span class="s3">'delta'</span> -&gt; 0.41796), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.197701 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 10.1905), (<span class="s3">'delta'</span> -&gt; 0.39474), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.177931 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 10.5853), (<span class="s3">'delta'</span> -&gt; 0.39474), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.160138 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 10.98), (<span class="s3">'delta'</span> -&gt; 0.32508), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.144124 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 11.3051), (<span class="s3">'delta'</span> -&gt; 8.75393), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.129711 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 20.059), (<span class="s3">'delta'</span> -&gt; 8.96291), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'selectByPath'</span>, 2, <span class="s2">":Patches:riddims2:jRunnin"</span> ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 29.0219), (<span class="s3">'delta'</span> -&gt; 0.39474), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.142683 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 29.4167), (<span class="s3">'delta'</span> -&gt; 5.61923), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.156951 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>],<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>Event<span class="s4">[<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 35.0359), (<span class="s3">'delta'</span> -&gt; 0.41796), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.172646 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 35.4539), (<span class="s3">'delta'</span> -&gt; 2.71674), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.18991 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 38.1706), (<span class="s3">'delta'</span> -&gt; 1.36998), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 1 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 39.5406), (<span class="s3">'delta'</span> -&gt; 0.3483), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.85 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 39.8889), (<span class="s3">'delta'</span> -&gt; 0.41796), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.722501 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 40.3068), (<span class="s3">'delta'</span> -&gt; 0.37152), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.614126 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 40.6784), (<span class="s3">'delta'</span> -&gt; 1.161), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.522007 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 41.8394), (<span class="s3">'delta'</span> -&gt; 2.85606), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 1, 1 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 44.6954), (<span class="s3">'delta'</span> -&gt; 1.7415), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 1, 1 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 46.4369), (<span class="s3">'delta'</span> -&gt; 2.85606), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'wakeEffectByPath'</span>, <span class="s2">":Patches:justefx:pitchCasStereoSprd"</span> ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>],<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>Event<span class="s4">[<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 49.293), (<span class="s3">'delta'</span> -&gt; 0.41796), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 1, 0.85 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 49.7109), (<span class="s3">'delta'</span> -&gt; 0.696599), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 1, 0.7225 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 50.4075), (<span class="s3">'delta'</span> -&gt; 0.39474), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 1, 0.385263 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 50.8023), (<span class="s3">'delta'</span> -&gt; 0.44118), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 1, 0.346736 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 51.2435), (<span class="s3">'delta'</span> -&gt; 11.4707), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 1, 0.312063 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 62.7141), (<span class="s3">'delta'</span> -&gt; 1.46286), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'selectByPath'</span>, 0, <span class="s2">":Patches:clouds:newjetengine"</span> ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 64.177), (<span class="s3">'delta'</span> -&gt; 0.673379), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 0, 0.160138 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 64.8504), (<span class="s3">'delta'</span> -&gt; 0.51084), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 0, 0.144124 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 65.3612), (<span class="s3">'delta'</span> -&gt; 0.39474), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 0, 0.129711 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 65.7559), (<span class="s3">'delta'</span> -&gt; 8.89325), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 0, 0.11674 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>],<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>Event<span class="s4">[<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 74.6492), (<span class="s3">'delta'</span> -&gt; 4.50468), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 0, 0.128414 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 79.1539), (<span class="s3">'delta'</span> -&gt; 1.92726), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'selectByPath'</span>, 0, <span class="s2">":Patches:clouds:screamspac"</span> ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 81.0811), (<span class="s3">'delta'</span> -&gt; 10.449), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 0, 0.115573 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 91.5301), (<span class="s3">'delta'</span> -&gt; 9.84527), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'sleepVoice'</span>, 0 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 101.375), (<span class="s3">'delta'</span> -&gt; 0.3483), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.208902 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 101.724), (<span class="s3">'delta'</span> -&gt; 0.39474), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.229792 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 102.118), (<span class="s3">'delta'</span> -&gt; 2.06658), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.252771 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 104.185), (<span class="s3">'delta'</span> -&gt; 0.32508), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.443706 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 104.51), (<span class="s3">'delta'</span> -&gt; 0.39474), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.377151 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 104.905), (<span class="s3">'delta'</span> -&gt; 2.322), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.320578 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>],<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>Event<span class="s4">[<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 107.227), (<span class="s3">'delta'</span> -&gt; 1.161), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.272492 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 108.388), (<span class="s3">'delta'</span> -&gt; 1.95048), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 1 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 110.338), (<span class="s3">'delta'</span> -&gt; 0.41796), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 1, 0.614125 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 110.756), (<span class="s3">'delta'</span> -&gt; 0.928799), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 1, 0.73695 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 111.685), (<span class="s3">'delta'</span> -&gt; 10.1471), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 1, 1 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 121.832), (<span class="s3">'delta'</span> -&gt; 1.71828), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 1, 0.280856 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 123.55), (<span class="s3">'delta'</span> -&gt; 2.0898), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 1, 0.252771 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 125.64), (<span class="s3">'delta'</span> -&gt; 6.13007), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 1, 0.227494 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 131.77), (<span class="s3">'delta'</span> -&gt; 1.99692), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'selectByPath'</span>, 2, <span class="s2">":Patches:plusefx:musiqueConcrete"</span> ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 133.767), (<span class="s3">'delta'</span> -&gt; 0.37152), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 1 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>],<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>Event<span class="s4">[<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 134.139), (<span class="s3">'delta'</span> -&gt; 0.37152), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.85 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 134.51), (<span class="s3">'delta'</span> -&gt; 0.37152), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.722501 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 134.882), (<span class="s3">'delta'</span> -&gt; 0.37152), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.614126 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 135.253), (<span class="s3">'delta'</span> -&gt; 0.41796), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.522007 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 135.671), (<span class="s3">'delta'</span> -&gt; 0.30186), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.443706 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 135.973), (<span class="s3">'delta'</span> -&gt; 0.3483), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.377152 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 136.321), (<span class="s3">'delta'</span> -&gt; 0.3483), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.32058 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 136.67), (<span class="s3">'delta'</span> -&gt; 0.3483), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.272493 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 137.018), (<span class="s3">'delta'</span> -&gt; 0.37152), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.231619 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 137.39), (<span class="s3">'delta'</span> -&gt; 0.37152), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.196877 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>],<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>Event<span class="s4">[<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 137.761), (<span class="s3">'delta'</span> -&gt; 0.39474), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.167345 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 138.156), (<span class="s3">'delta'</span> -&gt; 0.39474), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.142243 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 138.551), (<span class="s3">'delta'</span> -&gt; 1.8576), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 2, 0.120907 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 140.408), (<span class="s3">'delta'</span> -&gt; 0.3483), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.278048 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 140.756), (<span class="s3">'delta'</span> -&gt; 0.32508), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.305853 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 141.082), (<span class="s3">'delta'</span> -&gt; 0.37152), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.336438 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 141.453), (<span class="s3">'delta'</span> -&gt; 0.3483), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.370082 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 141.801), (<span class="s3">'delta'</span> -&gt; 0.37152), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.40709 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 142.173), (<span class="s3">'delta'</span> -&gt; 2.73996), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.447799 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 144.913), (<span class="s3">'delta'</span> -&gt; 60.5577), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.492579 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>],<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>Event<span class="s4">[<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 205.471), (<span class="s3">'delta'</span> -&gt; 1.48608), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.541837 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 206.957), (<span class="s3">'delta'</span> -&gt; 1.90404), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 2, 0.59602 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 208.861), (<span class="s3">'delta'</span> -&gt; 0.39474), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 1, 1 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 209.255), (<span class="s3">'delta'</span> -&gt; 0.37152), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 1, 0.85 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 209.627), (<span class="s3">'delta'</span> -&gt; 0.37152), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 1, 0.7225 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 209.998), (<span class="s3">'delta'</span> -&gt; 1.20744), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 1, 0.614126 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 211.206), (<span class="s3">'delta'</span> -&gt; 0.41796), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 1, 0.522007 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 211.624), (<span class="s3">'delta'</span> -&gt; 0.719819), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 1, 0.443706 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 212.344), (<span class="s3">'delta'</span> -&gt; 0.39474), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 1, 0.37715 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 212.738), (<span class="s3">'delta'</span> -&gt; 0.32508), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 1, 0.320578 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>],<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>Event<span class="s4">[<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 213.063), (<span class="s3">'delta'</span> -&gt; 0.32508), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 1, 0.272492 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 213.389), (<span class="s3">'delta'</span> -&gt; 0.3483), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setMixOnVoice'</span>, 1, 0.231618 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 213.737), (<span class="s3">'delta'</span> -&gt; 0.39474), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 1, 0.204744 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 214.132), (<span class="s3">'delta'</span> -&gt; 0.37152), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 1, 0.18427 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 214.503), (<span class="s3">'delta'</span> -&gt; 0.32508), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 1, 0.165843 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 214.828), (<span class="s3">'delta'</span> -&gt; 0.3483), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 1, 0.149259 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 215.176), (<span class="s3">'delta'</span> -&gt; 0.37152), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 1, 0.134333 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 215.548), (<span class="s3">'delta'</span> -&gt; 0.44118), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 1, 0.1209 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 215.989), (<span class="s3">'delta'</span> -&gt; 1.92726), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 1, 0.10881 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>], <span class="s1">Event</span>[<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 217.916), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 1, 0.0979286 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>]] );</p>
<p class="p4"><br></p>
<p class="p5">a.writeClose;</p>
<p class="p4"><br></p>
<p class="p3">)</p>
<p class="p3">(</p>
<p class="p7">b =<span class="Apple-converted-space">  </span>ZArchive.read("archiveTest");</p>
<p class="p7">b.readItem.postln;</p>
<p class="p7">b.readItem.postln;</p>
<p class="p8"><br></p>
<p class="p7">b.close;</p>
<p class="p8"><br></p>
<p class="p3">)</p>
<p class="p2"><br></p>
<p class="p3"><b>Repetition compression</b></p>
<p class="p3">identical values or objects that repeat are compressed.</p>
<p class="p3">(</p>
<p class="p5">a = <span class="s1">ZArchive</span>.write(<span class="s2">"archiveTest"</span>);</p>
<p class="p4"><br></p>
<p class="p5">a.writeItem( [<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>1,1,1,1,1,1,1,1,1,1,</p>
<p class="p5"><span class="Apple-tab-span">	</span>2,2,2,2,2,2,2,2,2,2,</p>
<p class="p5"><span class="Apple-tab-span">	</span>2,2,2,2,2,2,2,2,2,2,</p>
<p class="p5"><span class="Apple-tab-span">	</span>2,2,2,2,2,2,2,2,2,2,</p>
<p class="p5"><span class="Apple-tab-span">	</span>2,2,2,2,2,2,2,2,2,2,</p>
<p class="p5"><span class="Apple-tab-span">	</span>2,2,2,2,2,2,2,2,2,2,</p>
<p class="p5"><span class="Apple-tab-span">	</span>2,2,2,2,2,2,2,2,2,2</p>
<p class="p5"><span class="Apple-tab-span">	</span>]);</p>
<p class="p4"><br></p>
<p class="p5">a.writeClose;</p>
<p class="p4"><br></p>
<p class="p3">)</p>
<p class="p3">this is about 42 bytes.</p>
<p class="p2"><br></p>
<p class="p3">Identical objects get reconstituted as equal but independant objects.</p>
<p class="p2"><span class="Apple-converted-space"> </span></p>
<p class="p10"><br></p>
<p class="p11">(</p>
<p class="p9"><span class="s4">b = </span><span class="s1">ZArchive</span><span class="s4">.read(</span>"archiveTest"<span class="s4">);</span></p>
<p class="p5">b.readItem.postln;</p>
<p class="p5">b.close;</p>
<p class="p11">)</p>
<p class="p10"><br></p>
<p class="p10"><br></p>
<p class="p11">(</p>
<p class="p4"><br></p>
<p class="p5">a = <span class="s1">ZArchive</span>.write(<span class="s2">"archiveTest"</span>);</p>
<p class="p4"><br></p>
<p class="p5">a.writeItem(<span class="s1">nil</span>);</p>
<p class="p5">a.writeItem(<span class="s2">"word"</span>);</p>
<p class="p5">a.writeClose;</p>
<p class="p4"><br></p>
<p class="p11">)</p>
<p class="p10"><br></p>
<p class="p10"><br></p>
<p class="p11">(</p>
<p class="p5">b =<span class="Apple-converted-space">  </span><span class="s1">ZArchive</span>.read(<span class="s2">"archiveTest"</span>);</p>
<p class="p5">b.readItem.postln;</p>
<p class="p5">b.readItem.postln;</p>
<p class="p12">// one more</p>
<p class="p5">b.readItem.postln;</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p5">b.close;</p>
<p class="p4"><br></p>
<p class="p11">)</p>
<p class="p10"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>asZArchive</b></p>
<p class="p3">relative to your Document directory</p>
<p class="p3">(</p>
<p class="p5">a = <span class="s2">"archiveTest"</span>.asZArchive;</p>
<p class="p4"><br></p>
<p class="p4"><br></p>
<p class="p5">a.writeItem(1.0.rand);</p>
<p class="p5">a.writeItem([1,2,3,4,5].choose);</p>
<p class="p5">a.writeItem(<span class="s2">"hello"</span>);</p>
<p class="p5">a.writeItem(</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="s1">Event</span>.make({</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>~a = <span class="s3">\a</span>;</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>~b = <span class="s3">\b</span>;</p>
<p class="p5"><span class="Apple-tab-span">	</span>})</p>
<p class="p5">);</p>
<p class="p5">a.writeItem([1,2,3,4,5]);</p>
<p class="p5">a.writeItem( <span class="s1">Ref</span>(4.0) );</p>
<p class="p5">a.writeItem([</p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>Event<span class="s4">[</span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 149.797), (<span class="s3">'delta'</span> -&gt; 0.453), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 0, 0.415356 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>],</p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>Event<span class="s4">[<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 150.25), (<span class="s3">'delta'</span> -&gt; 0.478), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 0, 0.37382 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>],</p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>Event<span class="s4">[<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>(<span class="s3">'time'</span> -&gt; 150.728), (<span class="s3">'delta'</span> -&gt; 0.428), (<span class="s3">'m'</span> -&gt; [ <span class="s3">'setVolAt'</span>, 0, 0.336438 ])</p>
<p class="p5"><span class="Apple-tab-span">	</span>]</p>
<p class="p5">]);</p>
<p class="p5">a.writeItem([</p>
<p class="p6"><span class="s4"><span class="Apple-tab-span">	</span></span>IdentityDictionary<span class="s4">[</span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s3">\a</span> -&gt; <span class="s2">"b"</span>,</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s2">"b"</span> -&gt; <span class="s3">\c</span></p>
<p class="p5"><span class="Apple-tab-span">	</span>]</p>
<p class="p5">]);<span class="Apple-converted-space"> </span></p>
<p class="p5">a.writeClose;</p>
<p class="p4"><br></p>
<p class="p3">)</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>adding support for your custom class</b></p>
<p class="p2"><br></p>
<p class="p3">If your class already supports saving as a compile string, then it will simply save itself as a compile string without problem. If you wish to<span class="Apple-converted-space"> </span></p>
<p class="p8"><br></p>
<p class="p13">SomeClass<span class="s4"> {</span></p>
<p class="p8"><br></p>
<p class="p7"><span class="Apple-tab-span">	</span>writeZArchive { <span class="s5">arg</span> akv;</p>
<p class="p14"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// turn a path into an archive if needed</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>akv = akv.asZArchive;</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>akv.writeItem(columns.size);</p>
<p class="p12"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// the column objects have their own writeZArchive support</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>columns.do({<span class="s5">|c|</span> c.writeZArchive(akv) });</p>
<p class="p8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>akv.writeItem(name);</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>akv.writeItem(beats);</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>akv.writeItem(beatsPerBar);</p>
<p class="p7"><span class="Apple-tab-span">	</span>}</p>
<p class="p7"><span class="Apple-tab-span">	</span>readZArchive { <span class="s5">arg</span> akv;</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>columns = <span class="s5">Array</span>.fill( akv.readItem(<span class="s5">Integer</span>) ,{ <span class="s5">arg</span> i;</p>
<p class="p14"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span>// call the custom column object read</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-converted-space">  </span><span class="s5">Tracker</span>.readZArchive(akv)<span class="Apple-converted-space"> </span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>});</p>
<p class="p8"><br></p>
<p class="p14"><span class="s4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>name = akv.readItem; </span>// could be an Integer or a String !</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>beats = akv.readItem(<span class="s5">Float</span>);</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>beatsPerBar = akv.readItem(<span class="s5">Float</span>);</p>
<p class="p7"><span class="Apple-tab-span">	</span>}</p>
<p class="p8"><span class="Apple-tab-span">	</span></p>
<p class="p2"><br></p>
<p class="p3">}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3">When you have large arrays of floats etc., you can bypass writeItem (which will</p>
<p class="p3">write a character to specify the class type) and directly use</p>
<p class="p3">putFloat, putInt32 etc. (methods of File)</p>
<p class="p2"><br></p>
<p class="p3">but you must call saveCount before starting to use any of these methods.<span class="Apple-converted-space">  </span>This is because</p>
<p class="p3">any counted repetitions need to be closed off and written to the file before you start manually</p>
<p class="p3">putting floats etc.</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
</body>
</html>
