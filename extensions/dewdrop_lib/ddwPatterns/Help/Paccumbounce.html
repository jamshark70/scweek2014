<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="824.42">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 20.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000; min-height: 12.0px}
span.s1 {color: #0000bf}
</style>
</head>
<body>
<p class="p1"><b>Paccumbounce : Paccum</b></p>
<p class="p2"><br></p>
<p class="p3">An accumulator -- repeatedly performs a binary operation on the previous stream value and the result of a second stream. Each output value becomes the input value for the next calculation.</p>
<p class="p2"><br></p>
<p class="p3">Where Pseries adds a constant value on successive iterations, here the second operand is variable.</p>
<p class="p2"><br></p>
<p class="p3">Paccumbounce differs from Paccum in that the value reflects or "bounces" back from the (lo, hi) boundary. Once the boundary is hit, the step values will be negated so that the value will move in the opposite direction.</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>*new(lo = -inf, hi = inf, step, length = inf, start)</b></p>
<p class="p2"><br></p>
<p class="p3">lo = minimum output value; values lower than this are .fold-ed back in range</p>
<p class="p3">hi = maximum output value</p>
<p class="p3">step = pattern for the second operand</p>
<p class="p3">length = number of values to output</p>
<p class="p3">start = starting value; if not given, the stream will start with rrand(lo, hi)</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>Examples:</b></p>
<p class="p2"><br></p>
<p class="p3">This stream should "stagger" in a positive direction until it crashes into the upper boundary, then stagger in a negative direction until turning around again at the lower boundary.</p>
<p class="p2"><br></p>
<p class="p4">p = <span class="s1">Paccumbounce</span>(-1.0, 1.0, <span class="s1">Pwhite</span>(-0.05, 0.1, <span class="s1">inf</span>), <span class="s1">inf</span>).asStream;</p>
<p class="p4">r = fork { loop { p.next.postln; 0.1.wait } };</p>
<p class="p5"><br></p>
<p class="p4">r.stop;</p>
<p class="p5"><br></p>
<p class="p4">p.reset;</p>
<p class="p4">p.nextN(200).plot;</p>
</body>
</html>
