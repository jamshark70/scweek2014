<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="949.43">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 17.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 8.0px Monaco; min-height: 11.0px}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Helvetica}
p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #ad140d}
p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #606060}
p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 13.0px Helvetica; min-height: 16.0px}
p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #001bb9}
span.s1 {color: #0033f1}
span.s2 {color: #0024f8}
span.s3 {text-decoration: underline}
span.s4 {color: #001bb9}
span.s5 {color: #000000}
span.s6 {color: #606060}
span.s7 {color: #2c7014}
span.s8 {color: #ad140d}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><b>RecNodeProxy</b></p>
<p class="p2"><br></p>
<p class="p3"><b>superclass: NodeProxy</b></p>
<p class="p4"><br></p>
<p class="p5">a <a href="NodeProxy.html"><span class="s1">NodeProxy</span></a> that can record</p>
<p class="p4"><br></p>
<p class="p3">this is also created from a <a href="NodeProxy.html"><span class="s2">NodeProxy</span></a>, or an <a href="Ndef.html"><span class="s2">Ndef</span></a> with the message record.</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b><span class="s3">instance creation:</span></b></p>
<p class="p4"><br></p>
<p class="p3"><span class="Apple-tab-span">	</span><b>*new(server) / *audio(server, numChannels)</b></p>
<p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>see superclass</p>
<p class="p2"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p3"><b><span class="Apple-tab-span">	</span>*newFrom(inproxy, numChannels)</b></p>
<p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>instantiate a new proxy that listens to the in proxy.</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><b><span class="s3">access:</span></b></p>
<p class="p2"><br></p>
<p class="p3"><b><span class="Apple-tab-span">	</span>open(path, headerformat, sampleformat)</b></p>
<p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>open new file and initialize buffer on server</p>
<p class="p2"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p3"><b><span class="Apple-tab-span">	</span>record(paused)</b></p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>start the recording synth, if paused is false start recording immediately</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>default: true</p>
<p class="p2"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p3"><b><span class="Apple-tab-span">	</span>close</b></p>
<p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>stop recording, close file<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p3"><b><span class="Apple-tab-span">	</span>pause/unpause</b></p>
<p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>pause recording / unpause recording<span class="Apple-converted-space"> </span></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p3"><span class="Apple-tab-span">	</span><b>isRecording</b></p>
<p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>see if recording right now</p>
<p class="p2"><b><span class="Apple-tab-span">	</span></b></p>
<p class="p3"><b><span class="Apple-tab-span">	</span>wakeUp<span class="Apple-converted-space"> </span></b></p>
<p class="p3"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>until the proxy is not used by any output ( either .play or .ar/.kr )</p>
<p class="p3"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>it is not running on the server. you can wake it up to force it playing.</p>
<p class="p4"><br></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p5"><b>examples</b></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7">s.boot;</p>
<p class="p6"><br></p>
<p class="p7">a = <span class="s4">RecNodeProxy</span>.audio(s, 2);</p>
<p class="p7">a.source = { <span class="s4">SinOsc</span>.ar([400,500], 0, 0.1) };</p>
<p class="p8"><span class="s5">a.play; </span>//monitor;</p>
<p class="p9"><span class="s5">a.open(</span>"xproxySpace.aif"<span class="s5">);</span></p>
<p class="p7">a.record(<span class="s4">false</span>);</p>
<p class="p6"><br></p>
<p class="p7">a.source = { <span class="s4">SinOsc</span>.ar([400,700], 0, 0.1) };</p>
<p class="p7">a.source = { <span class="s4">SinOsc</span>.ar([410,510], 0, 0.1) };</p>
<p class="p7">a.source = { <span class="s4">SinOsc</span>.ar([<span class="s4">LFNoise1</span>.kr(80, 100, 300),500], 0, 0.1) };</p>
<p class="p6"><br></p>
<p class="p8">//stop recording and close file</p>
<p class="p7">a.close;</p>
<p class="p6"><br></p>
<p class="p8">//monitor off</p>
<p class="p7">a.stop;<span class="Apple-converted-space"> </span></p>
<p class="p6"><br></p>
<p class="p5"><b>recording from some bus</b></p>
<p class="p10"><br></p>
<p class="p7">a = <span class="s4">Bus</span>.audio(s, 2);<span class="Apple-converted-space"> </span></p>
<p class="p6"><br></p>
<p class="p7"><span class="s4">SynthDef</span>(<span class="s6">"test"</span>, { <span class="s4">arg</span> out; <span class="s4">Out</span>.ar(out, { <span class="s4">WhiteNoise</span>.ar(0.1) }.dup(2)) }).send(s);</p>
<p class="p7">x = <span class="s4">Synth</span>(<span class="s6">"test"</span>, [<span class="s7">\out</span>, a]);</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7">n = <span class="s4">RecNodeProxy</span>.audio(s, 2);</p>
<p class="p7">n.source = { <span class="s4">InFeedback</span>.ar(a, 2) };</p>
<p class="p6"><br></p>
<p class="p8"><span class="s5">n.play;</span>//monitor</p>
<p class="p8"><span class="s5">n.stop;</span>//turn off monitor</p>
<p class="p6"><br></p>
<p class="p9"><span class="s5">n.open(</span>"noise.aif"<span class="s5">);</span></p>
<p class="p7">n.record;</p>
<p class="p7">n.unpause;</p>
<p class="p6"><br></p>
<p class="p7">n.close;</p>
<p class="p10"><br></p>
<p class="p10"><br></p>
<p class="p5"><b>instance creation from an existent node proxy</b></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7">b = <span class="s4">NodeProxy</span>.audio(s, 2);</p>
<p class="p8"><span class="s5">b.play; </span>//listen to b</p>
<p class="p7">b.source = { <span class="s4">SinOsc</span>.ar([400,500], 0, 0.1) }; <span class="s8">//play something</span></p>
<p class="p6"><br></p>
<p class="p7">r = <span class="s4">RecNodeProxy</span>.newFrom(b);</p>
<p class="p9"><span class="s5">r.open(</span>"recproxy514.aif"<span class="s5">); </span><span class="s8">//open file</span></p>
<p class="p8"><span class="s5">r.record; </span>//start recorder (paused)</p>
<p class="p6"><br></p>
<p class="p8"><span class="s5">r.unpause; </span>//start recording</p>
<p class="p6"><br></p>
<p class="p7">b.source = { <span class="s4">SinOsc</span>.ar([430,500], 0, 0.1) };</p>
<p class="p7">b.source = { <span class="s4">SinOsc</span>.ar([410,510], 0, 0.1) };</p>
<p class="p7">b.source = { <span class="s4">SinOsc</span>.ar([<span class="s4">LFNoise1</span>.kr(80, 100, 300), 500], 0, 0.1) };</p>
<p class="p7">r.pause;</p>
<p class="p7">b.source = { <span class="s4">WhiteNoise</span>.ar(0.01) };</p>
<p class="p7">r.unpause;</p>
<p class="p7">r.pause;</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p8">//stop recording and close file</p>
<p class="p7">r.close;</p>
<p class="p8"><span class="s5">b.stop; </span>//stop listen to b</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p5"><b>instance creation from an existent node proxy again</b></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7">b = <span class="s4">NodeProxy</span>.audio(s, 2);</p>
<p class="p8"><span class="s5">b.play; </span>//listen to b</p>
<p class="p7">b.source = { <span class="s4">SinOsc</span>.ar([400,500], 0, 0.1) }; <span class="s8">//play something</span></p>
<p class="p6"><br></p>
<p class="p8"><span class="s5">r = b.record(</span><span class="s6">"recproxy101.aiff"</span><span class="s5">); </span>//start recorder (paused)</p>
<p class="p8"><span class="s5">r.unpause; </span>//start recording</p>
<p class="p8"><span class="s5">r.close;<span class="Apple-converted-space">  </span></span>//end recording, close file</p>
<p class="p8"><span class="s5">b.stop;<span class="Apple-tab-span">	</span></span>//stop listen</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p5"><b>recording from other sources</b></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p7">s.boot;</p>
<p class="p6"><br></p>
<p class="p7">a = <span class="s4">RecNodeProxy</span>.audio(s, 2);</p>
<p class="p8"><span class="s5">b = a.index; </span>//get the bus index;</p>
<p class="p7">a.play; <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s8">//monitor;</span></p>
<p class="p9"><span class="s5">a.open(</span>"xproxySpace.aif"<span class="s5">);</span></p>
<p class="p7">a.record;</p>
<p class="p7">a.unpause;</p>
<p class="p6"><br></p>
<p class="p7">(</p>
<p class="p11">Routine<span class="s5">({</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="s4">var</span> id;</p>
<p class="p7"><span class="Apple-tab-span">	</span>loop({</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>id = s.nextNodeID;</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>s.sendMsg(<span class="s6">"/s_new"</span>, <span class="s6">"default"</span>, id,0,0, <span class="s7">\out</span>, b, <span class="s7">\freq</span>, rrand(400, 800));</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0.2.wait;</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>s.sendMsg(<span class="s6">"/n_set"</span>, id, <span class="s7">\gate</span>, 0);</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>0.2.wait;</p>
<p class="p7"><span class="Apple-tab-span">	</span>})</p>
<p class="p7">}).play;</p>
<p class="p7">)</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p8">//stop recording and close file</p>
<p class="p7">a.close;</p>
<p class="p6"><br></p>
<p class="p8">//monitor off</p>
<p class="p7">a.stop;<span class="Apple-converted-space"> </span></p>
<p class="p6"><br></p>
</body>
</html>
